import{n as e,_ as t}from"./index.12b41a5d.js";import{g as r,S as a}from"./vendor.47e86619.js";r.registerPlugin(a);const s={};var o=e({name:"BlockPreviewContainer",components:{"block-preview-menu":()=>t((()=>import("./block.preview.menu.ee324b92.js")),["/assets/block.preview.menu.ee324b92.js","/assets/index.12b41a5d.js","/assets/index.aa9ab8d5.css","/assets/vendor.47e86619.js"]),"block-element":()=>t((()=>import("./block.element.73f21e57.js")),["/assets/block.element.73f21e57.js","/assets/vendor.47e86619.js","/assets/index.12b41a5d.js","/assets/index.aa9ab8d5.css"])},props:{doc:{type:Object}},data:()=>({modal:!0,animation:null,randomID:null,timer:null,index:0,width:0}),computed:{animations:()=>gsapEffects,semantic(){return this.doc.semantic?this.doc.semantic:"div"},responsive(){return!!(this.doc.hasOwnProperty("responsive")&&this.doc.responsive&&this.width<640)}},methods:{classe(e){if(!e)return;let t=e;return t=e.hasOwnProperty("css")?e.css+" "+e.container:e,t.includes("absolute")||t.includes("fixed")?t:t+" relative "},stile(e,t){if(!e||!t)return;let r="";return e.hasOwnProperty("fontFamily")&&(r+='font-family:"'+e.fontFamily+'"; '),e.hasOwnProperty("style")?e.style+r:r},background(e){if(!e)return"";if(e.hasOwnProperty("gallery")&&!e.gallery||!e.hasOwnProperty("gallery")){let t="";return e.image&&e.image.url&&(e.image&&e.image.url&&e.image.url.indexOf(".mp4")<0&&(t=" background-image:url("+this.$imageURL(e.image)+");")),t}},nextCarousel(e,t){document.querySelector("#"+t.id).style.backgroundImage="url("+this.$imageURL(t.gallery.images[e])+");"},elementAction(e){this.$emit("action",e)},animate(e,t){let s=r.effects[e.gsap.animation](this.$refs[t],{trigger:this.$refs[t],duration:parseFloat(e.gsap.duration),delay:parseFloat(e.gsap.delay),ease:e.gsap.ease});a.create({id:t,start:"center 99%",trigger:this.$refs[t],toggleActions:"play pause restart none",animation:s,onEnter:()=>{e.gsap.delay?s.play():s.play(0)}})}},mounted(){if(window.scrollTo(0,0),this.width=window.innerWidth,window.addEventListener("resize",(()=>{this.width=window.innerWidth})),"slides"===this.doc.type&&console.log("Slides detected"),this.doc.hasOwnProperty("gsap")&&this.doc.gsap.animation){if(this.doc.hasOwnProperty("popup")&&this.doc.popup.trigger)return;this.$animation(this.doc,this.doc.id,this.$refs)}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.doc?r(e.semantic,{key:e.randomID,ref:e.doc.id,tag:"component",class:e.classe(e.doc.css),style:e.doc.style+" "+e.background(e.doc),attrs:{container:"",data:e.$attrs.data?e.$attrs.data:null,id:e.doc.hasOwnProperty("anchor")?e.doc.anchor:e.doc.id}},[e.doc.image&&(".mp4"===e.doc.image.ext||"webm"===e.doc.image.ext||e.doc.image.url.indexOf(".mp4")>-1)?r("div",{class:"fixed z-0 "+e.doc.css.css,attrs:{videobg:""}},[r("video",{staticClass:"object-cover h-full w-full",attrs:{playsinline:"",poster:e.doc.image.previewUrl,autoplay:"",loop:""}},[r("source",{attrs:{src:e.doc.image.url}})])]):e._e(),e._l(e.doc.blocks,(function(t,a){return[!t||t.hasOwnProperty("slider")||!t.hasOwnProperty("blocks")||t.hasOwnProperty("items")||t.hasOwnProperty("image_flip")||t.hasOwnProperty("popup")||"plugin"==t.type||t.hasOwnProperty("collection")||"menu"==t.tag||"slides"==t.type?e._e():r("block-preview-container",{key:t.id,attrs:{data:e.$attrs.data||null,currency:e.$attrs.currency||null,doc:t,animation:e.$attrs.animation},on:{action:e.elementAction}}),!t||t.hasOwnProperty("blocks")||"slides"==t.type||t.hasOwnProperty("items")?e._e():r("block-element",{key:t.id,attrs:{data:e.$attrs.data||"",dataset:e.doc.hasOwnProperty("data")?e.doc.data:null,currency:e.$attrs.currency||null,element:t,coords:[a],develop:!1},on:{click:e.elementAction}}),"menu"===t.tag&&t.hasOwnProperty("blocks")?r("block-preview-menu",{key:t.id,attrs:{el:t}}):e._e()]}))],2):e._e()}),[],!1,(function(e){for(let t in s)this[t]=s[t]}),null,null,null);o.options.__file="src/components/blocks/block.preview.container.vue";var i=o.exports;export default i;
